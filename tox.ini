[tox]
envlist = py36, py37, lint
skipsdist = True
skip_missing_interpreters = true

[testenv]
deps = -rrequirements.txt
commands = pytest

[pytest]
addopts = -vv --durations=10 --failed-first --cov changes --cov-report term-missing tests

[flake8]
ignore = E501

[isort]
known_third_party = attr,bumpversion,cached_property,click,giturlparse,haikunator,inflection,jinja2,pkg_resources,plumbum,pytest,requests,requests_cache,responses,semantic_version,setuptools,sphinx_bootstrap_theme,testtube,toml,uritemplate

[testenv:lint]
deps = flake8
       isort
       black
commands = flake8 changes tests setup.py
           isort -rc -c changes tests setup.py
           black -S --check changes tests setup.py

[testenv:style]
deps = autopep8
       isort
       black
commands = autopep8 -i -r changes tests setup.py
           isort -rc -y changes tests setup.py
           black -S changes tests setup.py
